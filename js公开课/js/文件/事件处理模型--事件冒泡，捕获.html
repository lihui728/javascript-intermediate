<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style>
    .wrapper1{
	  width:300px;
	  height:300px;
	  background-color:red;
	}
	.content2{
	  width:200px;
	  height:200px;
	  background-color:green;
	}
	.box3{
	  width:100px;
	  height:100px;
	  background-color:orange;
	}
  </style>
 </head>
 <body>
   <div class="wrapper1">
     <div class="content2">
	   <div class="box3"></div>
	 </div>
   </div>
   <script>
    /*
	  事件处理模型 ---事件冒泡，捕获

	  *事件冒泡

	      *结构上(非视觉)嵌套关系的元素，会存在事件冒泡的功能，即同一事件，自子元素冒泡向父元素。（自底向上）

		var wrapper = document.getElementsByClassName('wrapper1')[0];
	    var content = document.getElementsByClassName('content2')[0];
	    var box = document.getElementsByClassName('box3')[0];
       	wrapper.addEventListener('click',function(){console.log('wrapper1')},false);
     	content.addEventListener('click',function(){console.log('content2')},false);
	    box.addEventListener('click',function(){console.log('box3')},false);
		 
	  *事件捕获

	     *结构上(非视觉)嵌套关系的元素，会存在事件捕获的功能，即同一事件，自父元素捕获至子元素（事件源元素）。（自顶向下）
         一个事件绑定一个函数
		 var wrapper = document.getElementsByClassName('wrapper1')[0];
	     var content = document.getElementsByClassName('content2')[0];
	     var box = document.getElementsByClassName('box3')[0];
	     wrapper.addEventListener('click',function(){console.log('wrapper1')},true);
	     content.addEventListener('click',function(){console.log('content2')},true);
	     box.addEventListener('click',function(){console.log('box3')},true);

		 *IE没有捕获事件
	  
	   *触发顺序，先捕获，后冒泡
         
		 一个事件绑定两个函数
	     var wrapper = document.getElementsByClassName('wrapper1')[0];
	     var content = document.getElementsByClassName('content2')[0];
	     var box = document.getElementsByClassName('box3')[0];
	    
		 wrapper.addEventListener('click',function(){console.log('wrapper1M')},false);//冒泡6
	     content.addEventListener('click',function(){console.log('content2M')},false);//冒泡5
	     box.addEventListener('click',function(){console.log('box3M')},false);//点击box，代码在先，box事件先执行，3
		 wrapper.addEventListener('click',function(){console.log('wrapper1')},true); //捕获1
	     content.addEventListener('click',function(){console.log('content2')},true);//捕获2
	     box.addEventListener('click',function(){console.log('box3')},true);//第二个事件执行，4

	   *focus，blur，change，sumit，reset，select等事件不冒泡

   
    *取消冒泡

	   *W3C标准event.stopPropagetion();但不支持ie9以下版本

	   *event.cancelBubble = true; IE和谷歌都有
	   
	*阻止默认事件
	   
	   *默认事件--表单提交，a标签跳转，右键菜单等
	   
	   *1.return false  以对象属性的方式注册的事件才生效

	   *2.event.preventDefault();W3C标准，IE9以下不兼容

	   *3.event.returnValue = false;兼容IE
	*/
	var wrapper = document.getElementsByClassName('wrapper1')[0];
	document.addEventListener('click',function(e){
		
		console.log('a')
		
		},false)
	  wrapper.addEventListener('click',function(e){
		  e.stopPropagation();
		  console.log('wrapper1M');
		  },false);   
	
   </script>
 </body>
</html>
